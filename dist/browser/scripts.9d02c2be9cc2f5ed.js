(function(){function v(e,t,i){200===e.status?t(e.responseText):i(e.statusText)}function y(e,t,i){var c=new XMLHttpRequest;return c.open("GET",e),c.onload=function(){v(c,t,i)},c.onerror=function(){i(c.statusText)},c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.send(),c}function m(e,t,i){var c="";if(i){var f=new Date;f.setTime(f.getTime()+24*i*60*60*1e3),c="; expires="+f.toUTCString()}document.cookie=e+"="+(t||"")+c+"; path=/"}function S(e){document.cookie=e+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"}function n(){return document.cookie.replace(/(?:(?:^|.*;\s*)csrftoken\s*=\s*([^;]*).*$)|^.*$/,"$1")}function l(e,t,i,c){var f=new XMLHttpRequest;f.open("POST",e),f.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),f.setRequestHeader("X-CSRFToken",n()),f.onreadystatechange=function(){this.readyState===XMLHttpRequest.DONE&&v(f,i,c)},f.setRequestHeader("X-Requested-With","XMLHttpRequest"),f.send(function a(e){return Object.keys(e).map(function(t){var i=e[t];return void 0===i&&(i=""),t+"="+encodeURIComponent(i)}).join("&")}(t))}function r(e){e.style.height=e.contentWindow.document.body.scrollHeight+"px"}function s(e,t){return(e=new Date(e)).setDate(e.getDate()+t),e}function o(e){try{return new Intl.DateTimeFormat("en-IN",e)}catch(t){return{format:function(i){return i.toDateString()}}}}function p(){return window.screen.width>992}function h(e,t){return function g(e,t){var i={};void 0===t&&(t={}),Object.keys(t).forEach(function(P){i[P]=t[P]});var c=e,f=c.match(/{[^}]+}/g);null===f&&(f=[]);for(var T=0;T<f.length;T++){var q=f[T],D=q.replace(/{|}/g,""),R=i[D];delete i[D],c=null==R?c.replace(q+"/",""):c.replace(q,R)}return Object.keys(i).length>0&&(c=c+"?"+new URLSearchParams(i).toString()),c}({searchCompany:"/api/company/search/",addCompany:"/api/company/{companyId}/add/{listId}/",removeCompany:"/api/company/{companyId}/remove/{listId}/",quickRatios:"/api/company/{warehouseId}/quick_ratios/",peers:"/api/company/{warehouseId}/peers/",schedules:"/api/company/{companyId}/schedules/",searchRatio:"/api/ratio/search/",getChartMetric:"/api/company/{companyId}/chart/",searchHsCode:"/api/hs/search/",tradeData:"/api/hs/{hsCode}/data/",feed:"/dash/",updateFeedPos:"/api/user/read_feed/",ratioGallery:"/ratios/gallery/",getIndustries:"/api/get/industries/",getSegments:"/api/segments/{companyId}/{section}/{segtype}/",addPushSubscription:"/api/notifications/add_push_subscription/",companyInSublists:"/api/company/sublists/{companyId}/",getUserNotes:"/notes/company/{companyId}/",getShareholders:"/api/{companyId}/investors/{classification}/",viewFingerprints:"/shareholders/view/{fingerprints}/",getCommentary:"/wiki/company/{companyId}/commentary/"}[e],t)}function b(e,t){return y(h("searchCompany",{q:e}),t)}function I(e,t){!e.classList.contains(t=t||"hidden")&&setTimeout(function(){e.classList.add(t)},100)}function E(e,t,i){document.addEventListener("keydown",function(c){27===c.which&&(I(e,t),i&&i(c))})}function x(e,t){document.addEventListener("click",function(){I(e,t)}),e.addEventListener("click",function(i){i.stopPropagation()})}function u(e,t){e.classList.contains(t)?e.classList.remove(t):e.classList.add(t)}function d(e,t){try{localStorage.setItem(e,t)}catch(i){}}function w(e){try{return localStorage.getItem(e)}catch(t){return null}}!function L(){var e,t;window.Utils={ajax:y,ajaxPost:l,setCookie:m,eraseCookie:S,getUrl:h,getCsrf:n,searchCompanies:b,chartColors:(e=getComputedStyle(document.body),t={red:e.getPropertyValue("--red").trim()||"red",price:e.getPropertyValue("--chart-price").trim()||"purple",volume:e.getPropertyValue("--chart-volume").trim()||"lightblue",ink700:e.getPropertyValue("--ink-700").trim()||"grey",yellow:"rgb(255, 205, 86)",green:"rgb(75, 192, 192)",blue:"rgb(54, 162, 235)",purple:"rgb(153, 102, 255)",grey500:"hsl(0, 0%, 75%)",grey300:"hsl(0, 0%, 85%)",dark:"hsl(202, 59%, 23%)",light:"hsl(202, 86%, 80%)",lightRed:"#f3aeaa",lightBlue:"#5cdbf3",white:"rgba(255, 255, 255, 0.95)",default:"rgba(0, 0, 0, 0.1)"},t.lightRedBlueGradient=[t.lightRed,"#5CE6F3",t.lightBlue],t),resizeIframe:r,dateDelta:s,dateFormatter:o,isDesktop:p,addHideOnEscape:E,addHideOnOutsideClick:x,toggleClass:u,localStorageGet:w,localStorageSet:d}}()})(),function(){function y(n){return n.value.substring(0,n.selectionStart)}function m(n){var a=y(n);if(a.toLowerCase().endsWith(" and"))return a.substring(a.length-3);if(a.toLowerCase().endsWith(" or"))return a.substring(a.length-2);var r=a.split(/\sand\s|\sor\s|[^a-z0-9 ]|\n/gi);return r.length?r[r.length-1].trim():""}window.Typeahead=function v(n,a,l){var p,r={input:n},s=[],o=-1;function h(u){o=u,k(),l(s,o),E()}function k(){for(var u=r.menu.querySelectorAll("li"),d=0;d<u.length;d++)u[d].className=o===d?"active":""}function I(){var u=document.createElement("ul");u.classList.add("dropdown-content","visible");for(var d=0;d<s.length;d++)!function(){var w=d,L=document.createElement("li");L.innerHTML=s[d].name,w===o&&(L.className="active"),L.addEventListener("mousedown",function(){h(w)}),u.appendChild(L)}();return u}function E(){o=-1,s=[],r.menu.classList.remove("visible")}var x=n.parentNode;return n.style.marginBottom=0,r.menu=I(),x.appendChild(r.menu),E(),n.addEventListener("keydown",function g(u){var d=s.length-1;if(d<0||o<0)return u;switch(u.which){case 40:u.preventDefault(),++o>d&&(o=d),k();break;case 38:u.preventDefault(),--o<0&&(o=d),k();break;case 9:case 13:u.preventDefault(),h(o);break;case 27:u.preventDefault(),E()}}),n.addEventListener("input",function C(u){p&&p.abort(),p=a(u.target.value,function(w){"string"==typeof w&&(w=JSON.parse(w)),s=w,o=0;var L=I();r.menu.parentNode.replaceChild(L,r.menu),r.menu=L})}),n.addEventListener("blur",function b(u){setTimeout(function(){E()},200)}),r},window.TypeaheadUtils={insertWord:function S(n,a,l){var r=n.value,s=n.selectionStart,o=r.substring(0,s),p=m(n),g=o.lastIndexOf(p);if(l&&(g=s),-1!==g){var C=r.substring(0,g),h=r.substring(s),b=C+a+h,k=b.length-h.length;n.value=b,n.selectionStart=k,n.selectionEnd=k}},getLastWordBeforeCursor:m,getTillCursor:y}}(),function(){function v(n,a,l,r){var s=document.createElement("label");s.classList.add("label-body");var o=document.createElement("input");o.type="checkbox",l&&(o.checked=!0),o.onchange=r,s.appendChild(o);var p=document.createTextNode(a),g=document.createElement("span");g.appendChild(p),s.appendChild(g);var C=document.createElement("li");return C.setAttribute("data-idx",n),C.appendChild(s),{el:C,checkbox:o}}function y(n,a,l){if(n.target.checked){if(l.includes(a))return;l.push(a)}else{var s=l.indexOf(a);s>=0&&l.splice(s,1)}}window.ShowAsFilter=function S(n,a,l){var o,r=a.checkedObjects||[],s=a.nameAttribute||"name",p=[];o=v("all","Check All",r.length===n.length,function(d){(function m(n,a,l,r){var s=n.target;s.checked?a.map(function(o){l.includes(o)||l.push(o)}):l.splice(0),r.map(function(o){o.checkbox.checked=s.checked})})(d,n,r,p),l(r)});for(var h=0;h<n.length;h++){var b=n[h],k=r.includes(b),I=function(d){return function(w){y(w,d,r),o.checkbox.checked=n.length===r.length,l(r)}}(b),x=v(h,b[s],k,I);p.push(x)}var u=document.createElement("ul");return u.classList.add("dropdown-content"),a.noCheckAll||u.appendChild(o.el),p.map(function(d){u.appendChild(d.el)}),u}}(),function(){function v(n){document.body.classList.remove("light"),document.body.classList.remove("dark"),document.body.classList.remove("auto"),document.body.classList.add(n),Utils.eraseCookie("theme"),Utils.setCookie("theme",n,60)}function y(n){var a=document.getElementById("mobile-search"),l=n.querySelector("i"),r="visible";a.classList.contains(r)?(a.classList.remove(r),l.className="icon-search"):(a.classList.add(r),a.querySelector("input").focus(),l.className="icon-cancel-thin")}!function S(){window.MobileMenu={toggleSearch:y},window.SetTheme=v,function m(){document.addEventListener("keyup",function(n){if(n.target===document.body&&"/"===n.key){var a=document.querySelector("#desktop-search [data-company-search]");a&&a.focus()}})}()}()}(),function(){function v(m,S){window.location.href=m[S].url}document.querySelectorAll("[data-company-search]").forEach(function(m){Typeahead(m,Utils.searchCompanies,v)})}();